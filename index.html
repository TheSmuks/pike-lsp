<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pike LSP Benchmarks</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #0d1117;
      --bg-secondary: #161b22;
      --bg-card: #21262d;
      --bg-card-hover: #30363d;
      --border: #30363d;
      --border-accent: #484f58;
      --text-primary: #f0f6fc;
      --text-secondary: #8b949e;
      --text-muted: #6e7681;
      --accent-emerald: #3fb950;
      --accent-emerald-dim: #3fb9501a;
      --accent-blue: #58a6ff;
      --accent-blue-dim: #58a6ff1a;
      --accent-orange: #d29922;
      --accent-orange-dim: #d299221a;
      --accent-red: #f85149;
      --accent-red-dim: #f851491a;
      --accent-purple: #a371f7;
      --accent-purple-dim: #a371f71a;
      --font-display: 'Space Grotesk', sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: var(--font-display);
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      line-height: 1.6;
      overflow-x: hidden;
    }

    .bg-grid {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none;
      background-image:
        linear-gradient(var(--border) 1px, transparent 1px),
        linear-gradient(90deg, var(--border) 1px, transparent 1px);
      background-size: 60px 60px;
      opacity: 0.1;
      z-index: 0;
    }

    .container {
      position: relative;
      z-index: 1;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }

    header {
      padding: 24px 0;
      border-bottom: 1px solid var(--border);
      margin-bottom: 24px;
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 16px;
    }

    h1 {
      font-size: 1.5rem;
      font-weight: 700;
      letter-spacing: -0.02em;
    }

    h1 .accent { color: var(--accent-blue); }

    .version-badge {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      background: var(--accent-blue-dim);
      color: var(--accent-blue);
      padding: 4px 10px;
      border-radius: 6px;
    }

    /* Tab Navigation */
    .tabs {
      display: flex;
      gap: 8px;
      border-bottom: 1px solid var(--border);
      margin-bottom: 24px;
      overflow-x: auto;
    }

    .tab {
      padding: 12px 20px;
      background: transparent;
      border: none;
      color: var(--text-secondary);
      font-family: var(--font-display);
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      transition: all 0.2s ease;
      white-space: nowrap;
    }

    .tab:hover {
      color: var(--text-primary);
      background: var(--bg-card-hover);
    }

    .tab.active {
      color: var(--accent-blue);
      border-bottom-color: var(--accent-blue);
    }

    /* Tab Content */
    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* Stats Grid */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 12px;
    }

    .stat-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 16px;
      transition: all 0.2s ease;
    }

    .stat-card:hover {
      border-color: var(--border-accent);
    }

    .stat-card .name {
      font-size: 0.7rem;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 8px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .stat-card .value {
      font-size: 1.25rem;
      font-weight: 700;
      font-family: var(--font-mono);
    }

    .stat-card .delta {
      font-size: 0.75rem;
      margin-top: 4px;
    }

    .stat-card .delta.improved { color: var(--accent-emerald); }
    .stat-card .delta.regressed { color: var(--accent-red); }
    .stat-card .delta.neutral { color: var(--text-secondary); }

    /* Charts */
    .charts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));
      gap: 16px;
    }

    .chart-container {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 16px;
    }

    .chart-title {
      font-size: 0.8rem;
      font-weight: 500;
      color: var(--text-secondary);
      margin-bottom: 12px;
    }

    .chart-canvas {
      height: 180px;
    }

    /* Timeline */
    .timeline {
      position: relative;
      padding-left: 20px;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 2px;
      background: var(--border);
    }

    .timeline-item {
      position: relative;
      padding-bottom: 20px;
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -25px;
      top: 6px;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--accent-blue);
      border: 2px solid var(--bg-primary);
    }

    .timeline-header {
      cursor: pointer;
      padding: 12px 16px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      margin-bottom: 0;
      transition: all 0.2s ease;
    }

    .timeline-header:hover {
      background: var(--bg-card-hover);
    }

    .timeline-item.expanded .timeline-header {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      margin-bottom: 0;
    }

    .timeline-title {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 500;
    }

    .timeline-version {
      font-family: var(--font-mono);
      font-size: 0.7rem;
      background: var(--accent-blue-dim);
      color: var(--accent-blue);
      padding: 2px 8px;
      border-radius: 4px;
    }

    .timeline-date {
      font-size: 0.8rem;
      color: var(--text-secondary);
      margin-left: auto;
    }

    .timeline-content {
      display: none;
      padding: 12px 16px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-top: none;
      border-bottom-left-radius: 8px;
      border-bottom-right-radius: 8px;
    }

    .timeline-item.expanded .timeline-content {
      display: block;
    }

    .timeline-items {
      list-style: none;
    }

    .timeline-items li {
      padding: 6px 0;
      display: flex;
      gap: 12px;
      font-size: 0.9rem;
    }

    .timeline-items li strong {
      color: var(--accent-blue);
      min-width: 180px;
      flex-shrink: 0;
    }

    .chevron {
      margin-left: auto;
      transition: transform 0.2s ease;
    }

    .timeline-item.expanded .chevron {
      transform: rotate(180deg);
    }

    footer {
      padding: 24px 0;
      border-top: 1px solid var(--border);
      text-align: center;
      color: var(--text-secondary);
      font-size: 0.8rem;
    }

    @media (max-width: 768px) {
      .stats-grid { grid-template-columns: 1fr; }
      .charts-grid { grid-template-columns: 1fr; }
      h1 { font-size: 1.25rem; }
    }
  </style>
</head>
<body>
  <div class="bg-grid"></div>

  <div class="container">
    <header>
      <div class="header-top">
        <h1>Pike LSP <span class="accent">Benchmarks</span></h1>
        <span class="version-badge" id="versionDisplay">v0.1.0-alpha.12</span>
      </div>
    </header>

    <nav class="tabs">
      <button class="tab active" data-tab="overview">Overview</button>
      <button class="tab" data-tab="history">History</button>
      <button class="tab" data-tab="timeline">Optimizations</button>
    </nav>

    <!-- Overview Tab -->
    <div class="tab-content active" id="tab-overview">
      <div class="stats-grid" id="statsGrid">
        <!-- Stats inserted by JS -->
      </div>
    </div>

    <!-- History Tab -->
    <div class="tab-content" id="tab-history">
      <div class="charts-grid" id="chartsContainer">
        <!-- Charts inserted by JS -->
      </div>
    </div>

    <!-- Timeline Tab -->
    <div class="tab-content" id="tab-timeline">
      <div class="timeline" id="timelineContainer">
        <!-- Timeline inserted by JS -->
      </div>
    </div>

    <footer>
      <p>Updated: 2026-01-26 â€¢ <a href="https://github.com/TheSmuks/pike-lsp" style="color: var(--accent-blue);">Pike LSP</a></p>
    </footer>
  </div>

  <script>
    const BENCHMARK_DATA = {
  "current": [
    {
      "name": "Cache Hit: analyze with same document version",
      "value": 0.17408028874505596,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Cache Miss: analyze with different version",
      "value": 0.16842191850033833,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Closed File: analyze without version (stat-based key)",
      "value": 0.4283758789231625,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Cold Start + First Request (getVersionInfo)",
      "value": 253.554422125,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Cold Start + Introspect",
      "value": 257.02348508333336,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Completion: getCompletionContext (Large File, Cold Cache)",
      "value": 10.178705508410328,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Completion: getCompletionContext (Large File, Warm Cache)",
      "value": 10.121526264064293,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Cross-file: compile main with inherited utils",
      "value": 0.19594031724687183,
      "deltaClass": "improved",
      "deltaText": "6% faster"
    },
    {
      "name": "Cross-file: recompile main (cache hit)",
      "value": 0.20398678612366722,
      "deltaClass": "improved",
      "deltaText": "8% faster"
    },
    {
      "name": "First diagnostic after document change",
      "value": 0.18451676272478457,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Hover: resolveModule(\"Stdio.File\")",
      "value": 0.0868347899769806,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Hover: resolveStdlib(\"Stdio.File\")",
      "value": 0.5888768910856688,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "PikeBridge.start() [Cold Start]",
      "value": 202.46162679166667,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "PikeBridge.start() with detailed metrics [Cold Start]",
      "value": 254.34008166666666,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Rapid edit simulation (debounce coalescing)",
      "value": 253.71220699999998,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "resolveStdlib(\"Array\")",
      "value": 0.371682725623417,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "resolveStdlib(\"Mapping\")",
      "value": 0.10866282161116934,
      "deltaClass": "improved",
      "deltaText": "6% faster"
    },
    {
      "name": "resolveStdlib(\"Stdio.File\") - nested",
      "value": 0.6344217485559241,
      "deltaClass": "improved",
      "deltaText": "7% faster"
    },
    {
      "name": "resolveStdlib(\"Stdio\") - warm",
      "value": 0.4449362526233709,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "resolveStdlib(\"String.SplitIterator\") - nested",
      "value": 0.08571509845198401,
      "deltaClass": "improved",
      "deltaText": "8% faster"
    },
    {
      "name": "resolveStdlib(\"String\")",
      "value": 0.28360734558057377,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Validation Consolidated (1 call: analyze with all includes)",
      "value": 3.581513742240623,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Validation Legacy (3 calls: introspect + parse + analyzeUninitialized)",
      "value": 4.562432835846609,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Validation with 250ms debounce (default)",
      "value": 250.73169116666668,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Validation: Large File (~1000 lines)",
      "value": 52.6577817,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Validation: Medium File (~100 lines)",
      "value": 4.717331837899543,
      "deltaClass": "neutral",
      "deltaText": "No change"
    },
    {
      "name": "Validation: Small File (~15 lines)",
      "value": 1.5808864451946776,
      "deltaClass": "improved",
      "deltaText": "7% faster"
    }
  ],
  "history": [
    {
      "id": "Cache-Hit--analyze-with-same-document-version",
      "name": "Cache Hit: analyze with same document version",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.1779171568573015,
        0.17408028874505596
      ]
    },
    {
      "id": "Cache-Miss--analyze-with-different-version",
      "name": "Cache Miss: analyze with different version",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.1740524199945667,
        0.16842191850033833
      ]
    },
    {
      "id": "Closed-File--analyze-without-version--stat-based-key-",
      "name": "Closed File: analyze without version (stat-based key)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.43234813709160796,
        0.4283758789231625
      ]
    },
    {
      "id": "Cold-Start---First-Request--getVersionInfo-",
      "name": "Cold Start + First Request (getVersionInfo)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        256.205288,
        253.554422125
      ]
    },
    {
      "id": "Cold-Start---Introspect",
      "name": "Cold Start + Introspect",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        258.54699108333335,
        257.02348508333336
      ]
    },
    {
      "id": "Completion--getCompletionContext--Large-File--Cold-Cache-",
      "name": "Completion: getCompletionContext (Large File, Cold Cache)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        10.449152031746031,
        10.178705508410328
      ]
    },
    {
      "id": "Completion--getCompletionContext--Large-File--Warm-Cache-",
      "name": "Completion: getCompletionContext (Large File, Warm Cache)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        10.274492692307692,
        10.121526264064293
      ]
    },
    {
      "id": "Cross-file--compile-main-with-inherited-utils",
      "name": "Cross-file: compile main with inherited utils",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.20882364791464597,
        0.19594031724687183
      ]
    },
    {
      "id": "Cross-file--recompile-main--cache-hit-",
      "name": "Cross-file: recompile main (cache hit)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.22145620664335666,
        0.20398678612366722
      ]
    },
    {
      "id": "First-diagnostic-after-document-change",
      "name": "First diagnostic after document change",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.18465693264545716,
        0.18451676272478457
      ]
    },
    {
      "id": "Hover--resolveModule--Stdio-File--",
      "name": "Hover: resolveModule(\"Stdio.File\")",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.08435862830725462,
        0.0868347899769806
      ]
    },
    {
      "id": "Hover--resolveStdlib--Stdio-File--",
      "name": "Hover: resolveStdlib(\"Stdio.File\")",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.5917658036490008,
        0.5888768910856688
      ]
    },
    {
      "id": "PikeBridge-start----Cold-Start-",
      "name": "PikeBridge.start() [Cold Start]",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        202.89474441666667,
        202.46162679166667
      ]
    },
    {
      "id": "PikeBridge-start---with-detailed-metrics--Cold-Start-",
      "name": "PikeBridge.start() with detailed metrics [Cold Start]",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        257.23261133333335,
        254.34008166666666
      ]
    },
    {
      "id": "Rapid-edit-simulation--debounce-coalescing-",
      "name": "Rapid edit simulation (debounce coalescing)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        254.916812,
        253.71220699999998
      ]
    },
    {
      "id": "resolveStdlib--Array--",
      "name": "resolveStdlib(\"Array\")",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.37469505409927495,
        0.371682725623417
      ]
    },
    {
      "id": "resolveStdlib--Mapping--",
      "name": "resolveStdlib(\"Mapping\")",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.11610831488151659,
        0.10866282161116934
      ]
    },
    {
      "id": "resolveStdlib--Stdio-File-----nested",
      "name": "resolveStdlib(\"Stdio.File\") - nested",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.6852999689067202,
        0.6344217485559241
      ]
    },
    {
      "id": "resolveStdlib--Stdio-----warm",
      "name": "resolveStdlib(\"Stdio\") - warm",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.446171090548579,
        0.4449362526233709
      ]
    },
    {
      "id": "resolveStdlib--String-SplitIterator-----nested",
      "name": "resolveStdlib(\"String.SplitIterator\") - nested",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.0936440550327006,
        0.08571509845198401
      ]
    },
    {
      "id": "resolveStdlib--String--",
      "name": "resolveStdlib(\"String\")",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        0.27906815313420275,
        0.28360734558057377
      ]
    },
    {
      "id": "Validation-Consolidated--1-call--analyze-with-all-includes-",
      "name": "Validation Consolidated (1 call: analyze with all includes)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        3.620803664893617,
        3.581513742240623
      ]
    },
    {
      "id": "Validation-Legacy--3-calls--introspect---parse---analyzeUninitialized-",
      "name": "Validation Legacy (3 calls: introspect + parse + analyzeUninitialized)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        4.598544141891892,
        4.562432835846609
      ]
    },
    {
      "id": "Validation-with-250ms-debounce--default-",
      "name": "Validation with 250ms debounce (default)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        250.894766,
        250.73169116666668
      ]
    },
    {
      "id": "Validation--Large-File---1000-lines-",
      "name": "Validation: Large File (~1000 lines)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        53.097068,
        52.6577817
      ]
    },
    {
      "id": "Validation--Medium-File---100-lines-",
      "name": "Validation: Medium File (~100 lines)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        4.741187833333333,
        4.717331837899543
      ]
    },
    {
      "id": "Validation--Small-File---15-lines-",
      "name": "Validation: Small File (~15 lines)",
      "labels": [
        "Jan 26",
        "Jan 26"
      ],
      "values": [
        1.7063228292079207,
        1.5808864451946776
      ]
    }
  ]
};
    const OPTIMIZATIONS = [
  {
    "version": "0.1.0-alpha.11",
    "date": "2026-01-26",
    "title": "Performance Optimizations",
    "items": [
      {
        "title": "Tokenization reuse",
        "desc": "- Cache and reuse tokenized results across analysis pipeline"
      },
      {
        "title": "Line splitting reuse",
        "desc": "- Share computed line boundaries between operations"
      },
      {
        "title": "Variables analysis buffering",
        "desc": "- Use string buffering for variables analysis"
      },
      {
        "title": "Incremental indexing",
        "desc": "- Changed document classification identifies affected files for partial re-parsing"
      }
    ]
  }
];
    const VERSION = "v0.1.0-alpha.12";

    // Tab navigation
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById('tab-' + tab.dataset.tab).classList.add('active');
      });
    });

    // Render stats
    function renderStats() {
      const container = document.getElementById('statsGrid');
      if (!BENCHMARK_DATA || !BENCHMARK_DATA.current || BENCHMARK_DATA.current.length === 0) {
        container.innerHTML = '<p style="color: var(--text-secondary); grid-column: 1/-1;">No benchmark data available.</p>';
        return;
      }

      container.innerHTML = BENCHMARK_DATA.current.map(stat => `
        <div class="stat-card">
          <div class="name">${stat.name}</div>
          <div class="value">${stat.value.toFixed(2)} ms</div>
          <div class="delta ${stat.deltaClass}">${stat.deltaText}</div>
        </div>
      `).join('');
    }

    // Render charts
    function renderCharts() {
      const container = document.getElementById('chartsContainer');
      if (!BENCHMARK_DATA || !BENCHMARK_DATA.history || BENCHMARK_DATA.history.length === 0) {
        container.innerHTML = '<p style="color: var(--text-secondary);">No historical data available.</p>';
        return;
      }

      container.innerHTML = BENCHMARK_DATA.history.map(chart => `
        <div class="chart-container">
          <div class="chart-title">${chart.name}</div>
          <div class="chart-canvas">
            <canvas id="chart-${chart.id}"></canvas>
          </div>
        </div>
      `).join('');

      BENCHMARK_DATA.history.forEach(chart => {
        const ctx = document.getElementById('chart-' + chart.id).getContext('2d');
        new Chart(ctx, {
          type: 'line',
          data: {
            labels: chart.labels,
            datasets: [{
              data: chart.values,
              borderColor: '#58a6ff',
              backgroundColor: '#58a6ff1a',
              fill: true,
              tension: 0.3,
              pointRadius: 3,
              pointHoverRadius: 5
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              y: { beginAtZero: true, grid: { color: '#30363d' }, ticks: { color: '#8b949e' } },
              x: { grid: { display: false }, ticks: { color: '#8b949e', maxRotation: 45 } }
            }
          }
        });
      });
    }

    // Render timeline
    function renderTimeline() {
      const container = document.getElementById('timelineContainer');
      if (!OPTIMIZATIONS || OPTIMIZATIONS.length === 0) {
        container.innerHTML = '<p style="color: var(--text-secondary);">No optimization history available.</p>';
        return;
      }

      container.innerHTML = OPTIMIZATIONS.map(opt => `
        <div class="timeline-item">
          <div class="timeline-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="timeline-title">
              <span class="timeline-version">${opt.version}</span>
              ${opt.title}
              <svg class="chevron" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"/>
              </svg>
            </div>
            <span class="timeline-date">${opt.date}</span>
          </div>
          <div class="timeline-content">
            <ul class="timeline-items">
              ${opt.items.map(item => `<li><strong>${item.title}</strong> ${item.desc}</li>`).join('')
              }
            </ul>
          </div>
        </div>
      `).join('');
    }

    // Initialize
    document.getElementById('versionDisplay').textContent = VERSION;
    renderStats();
    renderCharts();
    renderTimeline();
  </script>
</body>
</html>
